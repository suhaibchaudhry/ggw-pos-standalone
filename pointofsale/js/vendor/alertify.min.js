(function(e){"use strict";function i(e,t){e.className+=" "+t}function s(e,t){var n=t.split(" ");for(var r=0;r<n.length;r+=1){e.className=e.className.replace(" "+n[r],"")}}function o(){return e.getComputedStyle(document.body).direction==="rtl"}function u(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function a(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft}function h(e,t){return function(){if(arguments.length>0){var n=[];for(var r=0;r<arguments.length;r+=1){n.push(arguments[r])}n.push(e);return t.apply(e,n)}return t.apply(e,[null,e])}}function p(e,t){return{index:e,button:t,cancel:false}}function m(){function t(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return e}function i(t){var n=e[t].dialog;if(n&&typeof n.__init==="function"){n.__init(n)}return n}function s(n,r,i,s){var o={dialog:null,factory:r};if(s!==undefined){o.factory=function(){return t(new e[s].factory,new r)}}if(!i){o.dialog=t(new o.factory,d)}return e[n]=o}var e={};return{defaults:n,dialog:function(e,n,r,o){if(typeof n!=="function"){return i(e)}if(this.hasOwnProperty(e)){throw new Error("alertify.dialog: name already exists")}var u=s(e,n,r,o);if(r){this[e]=function(){if(arguments.length===0){return u.dialog}else{var e=t(new u.factory,d);if(e&&typeof e.__init==="function"){e.__init(e)}e["main"].apply(e,arguments);return e["show"].apply(e)}}}else{this[e]=function(){if(u.dialog&&typeof u.dialog.__init==="function"){u.dialog.__init(u.dialog)}if(arguments.length===0){return u.dialog}else{var e=u.dialog;e["main"].apply(u.dialog,arguments);return e["show"].apply(u.dialog)}}}},closeAll:function(e){var t=r.slice(0);for(var n=0;n<t.length;n+=1){var i=t[n];if(e===undefined||e!==i){i.close()}}},setting:function(e,t,n){if(e==="notifier"){return v.setting(t,n)}var r=i(e);if(r){return r.setting(t,n)}},set:function(e,t,n){return this.setting(e,t,n)},get:function(e,t){return this.setting(e,t)},notify:function(e,t,n,r){return v.create(t,r).push(e,n)},message:function(e,t,n){return v.create(null,n).push(e,t)},success:function(e,t,n){return v.create("success",n).push(e,t)},error:function(e,t,n){return v.create("error",n).push(e,t)},warning:function(e,t,n){return v.create("warning",n).push(e,t)},dismissAll:function(){v.dismissAll()}}}var t={ENTER:13,ESC:27,F1:112,F12:123,LEFT:37,RIGHT:39};var n={modal:true,basic:false,frameless:false,movable:true,resizable:true,closable:true,maximizable:true,startMaximized:false,pinnable:true,pinned:true,padding:true,overflow:true,maintainFocus:true,transition:"pulse",notifier:{delay:5,position:"bottom-right"},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"}};var r=[];var f=function(){if(document.addEventListener){return function(e,t,n,r){e.addEventListener(t,n,r===true)}}else if(document.attachEvent){return function(e,t,n){e.attachEvent("on"+t,n)}}}();var l=function(){if(document.removeEventListener){return function(e,t,n,r){e.removeEventListener(t,n,r===true)}}else if(document.detachEvent){return function(e,t,n){e.detachEvent("on"+t,n)}}}();var c=function(){var e,t;var n=false;var r={animation:"animationend",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in r){if(document.documentElement.style[e]!==undefined){t=r[e];n=true;break}}return{type:t,supported:n}}();var d=function(){function b(e){if(!e.__internal){delete e.__init;if(null===d){document.body.setAttribute("tabindex","0")}var t;if(typeof e.setup==="function"){t=e.setup();t.options=t.options||{};t.focus=t.focus||{}}else{t={buttons:[],focus:{element:null,select:false},options:{}}}var r=e.__internal={isOpen:false,activeElement:document.body,timerIn:undefined,timerOut:undefined,buttons:t.buttons||[],focus:t.focus,options:{title:undefined,modal:undefined,basic:undefined,frameless:undefined,pinned:undefined,movable:undefined,resizable:undefined,closable:undefined,maximizable:undefined,startMaximized:undefined,pinnable:undefined,transition:undefined,padding:undefined,overflow:undefined,onshow:undefined,onclose:undefined,onfocus:undefined},resetHandler:undefined,beginMoveHandler:undefined,beginResizeHandler:undefined,bringToFrontHandler:undefined,modalClickHandler:undefined,buttonsClickHandler:undefined,commandsClickHandler:undefined,transitionInHandler:undefined,transitionOutHandler:undefined};var s={};s.root=document.createElement("div");s.root.className=y.base+" "+y.hidden+" ";s.root.innerHTML=m.dimmer+m.modal;s.dimmer=s.root.firstChild;s.modal=s.root.lastChild;s.modal.innerHTML=m.dialog;s.dialog=s.modal.firstChild;s.dialog.innerHTML=m.reset+m.commands+m.header+m.body+m.footer+m.resizeHandle+m.reset;s.reset=[];s.reset.push(s.dialog.firstChild);s.reset.push(s.dialog.lastChild);s.commands={};s.commands.container=s.reset[0].nextSibling;s.commands.pin=s.commands.container.firstChild;s.commands.maximize=s.commands.pin.nextSibling;s.commands.close=s.commands.maximize.nextSibling;s.header=s.commands.container.nextSibling;s.body=s.header.nextSibling;s.body.innerHTML=m.content;s.content=s.body.firstChild;s.footer=s.body.nextSibling;s.footer.innerHTML=m.buttons.auxiliary+m.buttons.primary;s.resizeHandle=s.footer.nextSibling;s.buttons={};s.buttons.auxiliary=s.footer.firstChild;s.buttons.primary=s.buttons.auxiliary.nextSibling;s.buttons.primary.innerHTML=m.button;s.buttonTemplate=s.buttons.primary.firstChild;s.buttons.primary.removeChild(s.buttonTemplate);for(var o=0;o<e.__internal.buttons.length;o+=1){var u=e.__internal.buttons[o];if(n.indexOf(u.key)<0){n.push(u.key)}u.element=s.buttonTemplate.cloneNode();u.element.innerHTML=u.text;if(typeof u.className==="string"&&u.className!==""){i(u.element,u.className)}for(var a in u.attrs){if(a!=="className"&&u.attrs.hasOwnProperty(a)){u.element.setAttribute(a,u.attrs[a])}}if(u.scope==="auxiliary"){s.buttons.auxiliary.appendChild(u.element)}else{s.buttons.primary.appendChild(u.element)}}e.elements=s;r.resetHandler=h(e,K);r.beginMoveHandler=h(e,it);r.beginResizeHandler=h(e,vt);r.bringToFrontHandler=h(e,N);r.modalClickHandler=h(e,U);r.buttonsClickHandler=h(e,X);r.commandsClickHandler=h(e,A);r.transitionInHandler=h(e,Q);r.transitionOutHandler=h(e,G);e.set("title",t.options.title===undefined?g.defaults.glossary.title:t.options.title);e.set("modal",t.options.modal===undefined?g.defaults.modal:t.options.modal);e.set("basic",t.options.basic===undefined?g.defaults.basic:t.options.basic);e.set("frameless",t.options.frameless===undefined?g.defaults.frameless:t.options.frameless);e.set("movable",t.options.movable===undefined?g.defaults.movable:t.options.movable);e.set("resizable",t.options.resizable===undefined?g.defaults.resizable:t.options.resizable);e.set("closable",t.options.closable===undefined?g.defaults.closable:t.options.closable);e.set("maximizable",t.options.maximizable===undefined?g.defaults.maximizable:t.options.maximizable);e.set("startMaximized",t.options.startMaximized===undefined?g.defaults.startMaximized:t.options.startMaximized);e.set("pinnable",t.options.pinnable===undefined?g.defaults.pinnable:t.options.pinnable);e.set("pinned",t.options.pinned===undefined?g.defaults.pinned:t.options.pinned);e.set("transition",t.options.transition===undefined?g.defaults.transition:t.options.transition);e.set("padding",t.options.padding===undefined?g.defaults.padding:t.options.padding);e.set("overflow",t.options.overflow===undefined?g.defaults.overflow:t.options.overflow);if(typeof e.build==="function"){e.build()}}document.body.appendChild(e.elements.root)}function w(){var e=0;for(var t=0;t<r.length;t+=1){var n=r[t];if(n.isModal()||n.isMaximized()){e+=1}}if(e===0){s(document.body,y.noOverflow)}else if(e>0&&document.body.className.indexOf(y.noOverflow)<0){i(document.body,y.noOverflow)}}function E(e,t,n){if(typeof n==="string"){s(e.elements.root,y.prefix+n)}i(e.elements.root,y.prefix+t);d=e.elements.root.offsetWidth}function S(e){if(e.get("modal")){s(e.elements.root,y.modeless);if(e.isOpen()){Tt(e);j(e);w()}}else{i(e.elements.root,y.modeless);if(e.isOpen()){xt(e);j(e);w()}}}function x(e){if(e.get("basic")){i(e.elements.root,y.basic)}else{s(e.elements.root,y.basic)}}function T(e){if(e.get("frameless")){i(e.elements.root,y.frameless)}else{s(e.elements.root,y.frameless)}}function N(e,t){var n=r.indexOf(t);for(var i=n+1;i<r.length;i+=1){if(r[i].isModal()){return}}if(document.body.lastChild!==t.elements.root){document.body.appendChild(t.elements.root);r.splice(r.indexOf(t),1);r.push(t);J(t)}return false}function C(e,t,n,r){switch(t){case"title":e.setHeader(r);break;case"modal":S(e);break;case"basic":x(e);break;case"frameless":T(e);break;case"pinned":F(e);break;case"closable":q(e);break;case"maximizable":I(e);break;case"pinnable":P(e);break;case"movable":at(e);break;case"resizable":bt(e);break;case"transition":E(e,r,n);break;case"padding":if(r){s(e.elements.root,y.noPadding)}else if(e.elements.root.className.indexOf(y.noPadding)<0){i(e.elements.root,y.noPadding)}break;case"overflow":if(r){s(e.elements.root,y.noOverflow)}else if(e.elements.root.className.indexOf(y.noOverflow)<0){i(e.elements.root,y.noOverflow)}break;case"transition":E(e,r,n);break}}function k(e,t,n,r,i){var s={op:undefined,items:[]};if(typeof i==="undefined"&&typeof r==="string"){s.op="get";if(t.hasOwnProperty(r)){s.found=true;s.value=t[r]}else{s.found=false;s.value=undefined}}else{var o;s.op="set";if(typeof r==="object"){var u=r;for(var a in u){if(t.hasOwnProperty(a)){if(t[a]!==u[a]){o=t[a];t[a]=u[a];n.call(e,a,o,u[a])}s.items.push({key:a,value:u[a],found:true})}else{s.items.push({key:a,value:u[a],found:false})}}}else if(typeof r==="string"){if(t.hasOwnProperty(r)){if(t[r]!==i){o=t[r];t[r]=i;n.call(e,r,o,i)}s.items.push({key:r,value:i,found:true})}else{s.items.push({key:r,value:i,found:false})}}else{throw new Error("args must be a string or object")}}return s}function L(e){var t;W(e,function(e){return t=e.invokeOnClose===true});if(!t&&e.isOpen()){e.close()}}function A(e,t){var n=e.srcElement||e.target;switch(n){case t.elements.commands.pin:if(!t.isPinned()){O(t)}else{M(t)}break;case t.elements.commands.maximize:if(!t.isMaximized()){_(t)}else{D(t)}break;case t.elements.commands.close:L(t);break}return false}function O(e){e.set("pinned",true)}function M(e){e.set("pinned",false)}function _(e){i(e.elements.root,y.maximized);if(e.isOpen()){w()}}function D(e){s(e.elements.root,y.maximized);if(e.isOpen()){w()}}function P(e){if(e.get("pinnable")){i(e.elements.root,y.pinnable)}else{s(e.elements.root,y.pinnable)}}function H(e){var t=a();e.elements.modal.style.marginTop=u()+"px";e.elements.modal.style.marginLeft=t+"px";e.elements.modal.style.marginRight=-t+"px"}function B(e){var t=parseInt(e.elements.modal.style.marginTop,10);var n=parseInt(e.elements.modal.style.marginLeft,10);e.elements.modal.style.marginTop="";e.elements.modal.style.marginLeft="";e.elements.modal.style.marginRight="";if(e.isOpen()){var r=0,i=0;if(e.elements.dialog.style.top!==""){r=parseInt(e.elements.dialog.style.top,10)}e.elements.dialog.style.top=r+(t-u())+"px";if(e.elements.dialog.style.left!==""){i=parseInt(e.elements.dialog.style.left,10)}e.elements.dialog.style.left=i+(n-a())+"px"}}function j(e){if(!e.get("modal")&&!e.get("pinned")){H(e)}else{B(e)}}function F(e){if(e.get("pinned")){s(e.elements.root,y.unpinned);if(e.isOpen()){B(e)}}else{i(e.elements.root,y.unpinned);if(e.isOpen()&&!e.isModal()){H(e)}}}function I(e){if(e.get("maximizable")){i(e.elements.root,y.maximizable)}else{s(e.elements.root,y.maximizable)}}function q(e){if(e.get("closable")){i(e.elements.root,y.closable);At(e)}else{s(e.elements.root,y.closable);Ot(e)}}function U(e,t){var n=e.srcElement||e.target;if(!R&&n===t.elements.modal){L(t)}R=false;return false}function W(e,t){for(var n=0;n<e.__internal.buttons.length;n+=1){var r=e.__internal.buttons[n];if(!r.element.disabled&&t(r)){var i=p(n,r);if(typeof e.callback==="function"){e.callback.apply(e,[i])}if(i.cancel===false){e.close()}break}}}function X(e,t){var n=e.srcElement||e.target;W(t,function(e){return e.element===n&&(z=true)})}function V(e){if(z){z=false;return}var i=r[r.length-1];var s=e.keyCode;if(i.__internal.buttons.length===0&&s===t.ESC&&i.get("closable")===true){L(i);return false}else if(n.indexOf(s)>-1){W(i,function(e){return e.key===s});return false}}function $(e){var i=r[r.length-1];var s=e.keyCode;if(s===t.LEFT||s===t.RIGHT){var o=i.__internal.buttons;for(var u=0;u<o.length;u+=1){if(document.activeElement===o[u].element){switch(s){case t.LEFT:o[(u||o.length)-1].element.focus();return;case t.RIGHT:o[(u+1)%o.length].element.focus();return}}}}else if(s<t.F12+1&&s>t.F1-1&&n.indexOf(s)>-1){e.preventDefault();e.stopPropagation();W(i,function(e){return e.key===s});return false}}function J(e,t){if(t){t.focus()}else{var n=e.__internal.focus;var r=n.element;switch(typeof n.element){case"number":if(e.__internal.buttons.length>n.element){if(e.get("basic")===true){r=e.elements.reset[0]}else{r=e.__internal.buttons[n.element].element}}break;case"string":r=e.elements.body.querySelector(n.element);break;case"function":r=n.element.call(e);break}if((typeof r==="undefined"||r===null)&&e.__internal.buttons.length===0){r=e.elements.reset[0]}if(r&&r.focus){if(n.select&&r.select){r.select()}}}}function K(e,t){if(!t){for(var n=r.length-1;n>-1;n-=1){if(r[n].isModal()){t=r[n];break}}}if(t&&t.isModal()){var i,s=e.srcElement||e.target;var o=s===t.elements.reset[1]||t.__internal.buttons.length===0&&s===document.body;if(o){if(t.get("maximizable")){i=t.elements.commands.maximize}else if(t.get("closable")){i=t.elements.commands.close}}if(i===undefined){if(typeof t.__internal.focus.element==="number"){if(s===t.elements.reset[0]){i=t.elements.buttons.auxiliary.firstChild||t.elements.buttons.primary.firstChild}else if(o){i=t.elements.reset[0]}}else{if(s===t.elements.reset[0]){i=t.elements.buttons.primary.lastChild||t.elements.buttons.auxiliary.lastChild}}}J(t,i)}}function Q(e,t){clearTimeout(t.__internal.timerIn);J(t);z=false;if(typeof t.get("onfocus")==="function"){t.get("onfocus")()}l(t.elements.dialog,c.type,t.__internal.transitionInHandler);s(t.elements.root,y.animationIn)}function G(e,t){clearTimeout(t.__internal.timerOut);l(t.elements.dialog,c.type,t.__internal.transitionOutHandler);ut(t);yt(t);if(t.isMaximized()&&!t.get("startMaximized")){D(t)}if(g.defaults.maintainFocus&&t.__internal.activeElement){t.__internal.activeElement.focus();t.__internal.activeElement=null}}function rt(e,t){t.style.left=e[tt]-Z+"px";t.style.top=e[nt]-et+"px"}function it(e,t){if(ft===null&&!t.isMaximized()&&t.get("movable")){var n;if(e.type==="touchstart"){e.preventDefault();n=e.targetTouches[0];tt="clientX";nt="clientY"}else if(e.button===0){n=e}if(n){Y=t;Z=n[tt];et=n[nt];var r=t.elements.dialog;if(r.style.left){Z-=parseInt(r.style.left,10)}if(r.style.top){et-=parseInt(r.style.top,10)}rt(n,r);i(document.body,y.noSelection);return false}}}function st(e){if(Y){var t;if(e.type==="touchmove"){e.preventDefault();t=e.targetTouches[0]}else if(e.button===0){t=e}if(t){rt(t,Y.elements.dialog)}}}function ot(){if(Y){Y=null;s(document.body,y.noSelection)}}function ut(e){Y=null;var t=e.elements.dialog;t.style.left=t.style.top=""}function at(e){if(e.get("movable")){i(e.elements.root,y.movable);if(e.isOpen()){Nt(e)}}else{ut(e);s(e.elements.root,y.movable);if(e.isOpen()){Ct(e)}}}function dt(e,t,n){var r=t;var i=0;var s=0;do{i+=r.offsetLeft;s+=r.offsetTop}while(r=r.offsetParent);var u,a;if(n===true){u=e.pageX;a=e.pageY}else{u=e.clientX;a=e.clientY}var f=o();if(f){u=document.body.offsetWidth-u;if(!isNaN(lt)){i=document.body.offsetWidth-i-t.offsetWidth}}t.style.height=a-s+pt+"px";t.style.width=u-i+pt+"px";if(!isNaN(lt)){var l=Math.abs(t.offsetWidth-ct)*.5;if(f){l*=-1}if(t.offsetWidth>ct){t.style.left=lt+l+"px"}else if(t.offsetWidth>=ht){t.style.left=lt-l+"px"}}}function vt(e,t){if(!t.isMaximized()){var n;if(e.type==="touchstart"){e.preventDefault();n=e.targetTouches[0]}else if(e.button===0){n=e}if(n){ft=t;pt=t.elements.resizeHandle.offsetHeight/2;var r=t.elements.dialog;lt=parseInt(r.style.left,10);r.style.height=r.offsetHeight+"px";r.style.minHeight=t.elements.header.offsetHeight+t.elements.footer.offsetHeight+"px";r.style.width=(ct=r.offsetWidth)+"px";if(r.style.maxWidth!=="none"){r.style.minWidth=(ht=r.offsetWidth)+"px"}r.style.maxWidth="none";i(document.body,y.noSelection);return false}}}function mt(e){if(ft){var t;if(e.type==="touchmove"){e.preventDefault();t=e.targetTouches[0]}else if(e.button===0){t=e}if(t){dt(t,ft.elements.dialog,!ft.get("modal")&&!ft.get("pinned"))}}}function gt(){if(ft){ft=null;s(document.body,y.noSelection);R=true}}function yt(e){ft=null;var t=e.elements.dialog;if(t.style.maxWidth==="none"){t.style.maxWidth=t.style.minWidth=t.style.width=t.style.height=t.style.minHeight=t.style.left="";lt=Number.Nan;ct=ht=pt=0}}function bt(e){if(e.get("resizable")){i(e.elements.root,y.resizable);if(e.isOpen()){kt(e)}}else{yt(e);s(e.elements.root,y.resizable);if(e.isOpen()){Lt(e)}}}function wt(){for(var e=0;e<r.length;e+=1){var t=r[e];ut(t);yt(t)}}function Et(t){if(r.length===1){f(e,"resize",wt);f(document.body,"keyup",V);f(document.body,"keydown",$);f(document.body,"focus",K);f(document.documentElement,"mousemove",st);f(document.documentElement,"touchmove",st);f(document.documentElement,"mouseup",ot);f(document.documentElement,"touchend",ot);f(document.documentElement,"mousemove",mt);f(document.documentElement,"touchmove",mt);f(document.documentElement,"mouseup",gt);f(document.documentElement,"touchend",gt)}f(t.elements.commands.container,"click",t.__internal.commandsClickHandler);f(t.elements.footer,"click",t.__internal.buttonsClickHandler);f(t.elements.reset[0],"focus",t.__internal.resetHandler);f(t.elements.reset[1],"focus",t.__internal.resetHandler);z=true;f(t.elements.dialog,c.type,t.__internal.transitionInHandler);if(!t.get("modal")){xt(t)}if(t.get("resizable")){kt(t)}if(t.get("movable")){Nt(t)}}function St(t){if(r.length===1){l(e,"resize",wt);l(document.body,"keyup",V);l(document.body,"keydown",$);l(document.body,"focus",K);l(document.documentElement,"mousemove",st);l(document.documentElement,"mouseup",ot);l(document.documentElement,"mousemove",mt);l(document.documentElement,"mouseup",gt)}l(t.elements.commands.container,"click",t.__internal.commandsClickHandler);l(t.elements.footer,"click",t.__internal.buttonsClickHandler);l(t.elements.reset[0],"focus",t.__internal.resetHandler);l(t.elements.reset[1],"focus",t.__internal.resetHandler);f(t.elements.dialog,c.type,t.__internal.transitionOutHandler);if(!t.get("modal")){Tt(t)}if(t.get("movable")){Ct(t)}if(t.get("resizable")){Lt(t)}}function xt(e){f(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,true)}function Tt(e){l(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,true)}function Nt(e){f(e.elements.header,"mousedown",e.__internal.beginMoveHandler);f(e.elements.header,"touchstart",e.__internal.beginMoveHandler)}function Ct(e){l(e.elements.header,"mousedown",e.__internal.beginMoveHandler);l(e.elements.header,"touchstart",e.__internal.beginMoveHandler)}function kt(e){f(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler);f(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler)}function Lt(e){l(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler);l(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler)}function At(e){f(e.elements.modal,"click",e.__internal.modalClickHandler)}function Ot(e){l(e.elements.modal,"click",e.__internal.modalClickHandler)}var n=[],d=null,v=e.navigator.userAgent.indexOf("Safari")>-1&&e.navigator.userAgent.indexOf("Chrome")<0,m={dimmer:'<div class="ajs-dimmer"></div>',modal:'<div class="ajs-modal" tabindex="0"></div>',dialog:'<div class="ajs-dialog" tabindex="0"></div>',reset:'<button class="ajs-reset"></button>',commands:'<div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div>',header:'<div class="ajs-header"></div>',body:'<div class="ajs-body"></div>',content:'<div class="ajs-content"></div>',footer:'<div class="ajs-footer"></div>',buttons:{primary:'<div class="ajs-primary ajs-buttons"></div>',auxiliary:'<div class="ajs-auxiliary ajs-buttons"></div>'},button:'<button class="ajs-button"></button>',resizeHandle:'<div class="ajs-handle"></div>'},y={base:"alertify",prefix:"ajs-",hidden:"ajs-hidden",noSelection:"ajs-no-selection",noOverflow:"ajs-no-overflow",noPadding:"ajs-no-padding",modeless:"ajs-modeless",movable:"ajs-movable",resizable:"ajs-resizable",fixed:"ajs-fixed",closable:"ajs-closable",maximizable:"ajs-maximizable",maximize:"ajs-maximize",restore:"ajs-restore",pinnable:"ajs-pinnable",unpinned:"ajs-unpinned",pin:"ajs-pin",maximized:"ajs-maximized",animationIn:"ajs-in",animationOut:"ajs-out",shake:"ajs-shake",basic:"ajs-basic",frameless:"ajs-frameless"};var R=false;var z=false;var Y=null,Z=0,et=0,tt="pageX",nt="pageY";var ft=null,lt=Number.Nan,ct=0,ht=0,pt=0;return{__init:b,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf(y.modeless)<0},isMaximized:function(){return this.elements.root.className.indexOf(y.maximized)>-1},isPinned:function(){return this.elements.root.className.indexOf(y.unpinned)<0},maximize:function(){if(!this.isMaximized()){_(this)}return this},restore:function(){if(this.isMaximized()){D(this)}return this},pin:function(){if(!this.isPinned()){O(this)}return this},unpin:function(){if(this.isPinned()){M(this)}return this},moveTo:function(e,t){if(!isNaN(e)&&!isNaN(t)){var n=this.elements.dialog,r=n,i=0,s=0;if(n.style.left){i-=parseInt(n.style.left,10)}if(n.style.top){s-=parseInt(n.style.top,10)}do{i+=r.offsetLeft;s+=r.offsetTop}while(r=r.offsetParent);var u=e-i;var a=t-s;if(o()){u*=-1}n.style.left=u+"px";n.style.top=a+"px"}return this},resizeTo:function(e,t){if(!isNaN(e)&&!isNaN(t)&&this.get("resizable")===true){var n=this.elements.dialog;if(n.style.maxWidth!=="none"){n.style.minWidth=(ht=n.offsetWidth)+"px"}n.style.maxWidth="none";n.style.minHeight=this.elements.header.offsetHeight+this.elements.footer.offsetHeight+"px";n.style.width=e+"px";n.style.height=t+"px"}return this},setting:function(e,t){var n=this;var r=k(this,this.__internal.options,function(e,t,r){C(n,e,t,r)},e,t);if(r.op==="get"){if(r.found){return r.value}else if(typeof this.settings!=="undefined"){return k(this,this.settings,this.settingUpdated||function(){},e,t).value}else{return undefined}}else if(r.op==="set"){if(r.items.length>0){var i=this.settingUpdated||function(){};for(var s=0;s<r.items.length;s+=1){var o=r.items[s];if(!o.found&&typeof this.settings!=="undefined"){k(this,this.settings,i,o.key,o.value)}}}return this}},set:function(e,t){this.setting(e,t);return this},get:function(e){return this.setting(e)},setHeader:function(t){if(typeof t==="string"){this.elements.header.innerHTML=t}else if(t instanceof e.HTMLElement&&this.elements.header.firstChild!==t){this.elements.header.innerHTML="";this.elements.header.appendChild(t)}return this},setContent:function(t){if(typeof t==="string"){this.elements.content.innerHTML=t}else if(t instanceof e.HTMLElement&&this.elements.content.firstChild!==t){this.elements.content.innerHTML="";this.elements.content.appendChild(t)}return this},showModal:function(e){return this.show(true,e)},show:function(e,t){b(this);if(!this.__internal.isOpen){this.__internal.isOpen=true;r.push(this);if(g.defaults.maintainFocus){this.__internal.activeElement=document.activeElement}if(typeof this.prepare==="function"){this.prepare()}Et(this);if(e!==undefined){this.set("modal",e)}w();if(typeof t==="string"&&t!==""){this.__internal.className=t;i(this.elements.root,t)}if(this.get("startMaximized")){this.maximize()}else if(this.isMaximized()){D(this)}j(this);s(this.elements.root,y.animationOut);i(this.elements.root,y.animationIn);clearTimeout(this.__internal.timerIn);this.__internal.timerIn=setTimeout(this.__internal.transitionInHandler,c.supported?1e3:100);if(v){var n=this.elements.root;n.style.display="none";setTimeout(function(){n.style.display="block"},0)}d=this.elements.root.offsetWidth;s(this.elements.root,y.hidden);if(typeof this.get("onshow")==="function"){this.get("onshow")()}}else{ut(this);yt(this);i(this.elements.dialog,y.shake);var o=this;setTimeout(function(){s(o.elements.dialog,y.shake)},200)}return this},close:function(){if(this.__internal.isOpen){St(this);s(this.elements.root,y.animationIn);i(this.elements.root,y.animationOut);clearTimeout(this.__internal.timerOut);this.__internal.timerOut=setTimeout(this.__internal.transitionOutHandler,c.supported?1e3:100);i(this.elements.root,y.hidden);d=this.elements.modal.offsetWidth;if(typeof this.__internal.className!=="undefined"&&this.__internal.className!==""){s(this.elements.root,this.__internal.className)}if(typeof this.get("onclose")==="function"){this.get("onclose")()}r.splice(r.indexOf(this),1);this.__internal.isOpen=false;w()}return this},closeOthers:function(){g.closeAll(this);return this}}}();var v=function(){function o(e){if(!e.__internal){e.__internal={position:g.defaults.notifier.position,delay:g.defaults.notifier.delay};t=document.createElement("DIV");p(e);document.body.appendChild(t)}}function u(e){e.__internal.pushed=true;n.push(e)}function a(e){n.splice(n.indexOf(e),1);e.__internal.pushed=false}function p(e){t.className=r.base;switch(e.__internal.position){case"top-right":i(t,r.top+" "+r.right);break;case"top-left":i(t,r.top+" "+r.left);break;case"bottom-left":i(t,r.bottom+" "+r.left);break;default:case"bottom-right":i(t,r.bottom+" "+r.right);break}}function d(n,o){function p(e,t){t.dismiss(true)}function d(e,n){l(n.element,c.type,d);t.removeChild(n.element)}function m(e){if(!e.__internal){e.__internal={pushed:false,delay:undefined,timer:undefined,clickHandler:undefined,transitionEndHandler:undefined,transitionTimeout:undefined};e.__internal.clickHandler=h(e,p);e.__internal.transitionEndHandler=h(e,d)}return e}function g(e){clearTimeout(e.__internal.timer);clearTimeout(e.__internal.transitionTimeout)}return m({element:n,push:function(n,s){if(!this.__internal.pushed){u(this);g(this);var o,a;switch(arguments.length){case 0:a=this.__internal.delay;break;case 1:if(typeof n==="number"){a=n}else{o=n;a=this.__internal.delay}break;case 2:o=n;a=s;break}if(typeof o!=="undefined"){this.setContent(o)}if(v.__internal.position.indexOf("top")<0){t.appendChild(this.element)}else{t.insertBefore(this.element,t.firstChild)}e=this.element.offsetWidth;i(this.element,r.visible);f(this.element,"click",this.__internal.clickHandler);return this.delay(a)}return this},ondismiss:function(){},callback:o,dismiss:function(e){if(this.__internal.pushed){g(this);if(!(typeof this.ondismiss==="function"&&this.ondismiss.call(this)===false)){l(this.element,"click",this.__internal.clickHandler);if(typeof this.element!=="undefined"&&this.element.parentNode===t){this.__internal.transitionTimeout=setTimeout(this.__internal.transitionEndHandler,c.supported?1e3:100);s(this.element,r.visible);if(typeof this.callback==="function"){this.callback.call(this,e)}}a(this)}}return this},delay:function(e){g(this);this.__internal.delay=typeof e!=="undefined"&&!isNaN(+e)?+e:v.__internal.delay;if(this.__internal.delay>0){var t=this;this.__internal.timer=setTimeout(function(){t.dismiss()},this.__internal.delay*1e3)}return this},setContent:function(e){if(typeof e==="string"){this.element.innerHTML=e}else{this.element.appendChild(e)}return this},dismissOthers:function(){v.dismissAll(this);return this}})}var e,t,n=[],r={base:"alertify-notifier",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",visible:"ajs-visible",hidden:"ajs-hidden"};return{setting:function(e,t){o(this);if(typeof t==="undefined"){return this.__internal[e]}else{switch(e){case"position":this.__internal.position=t;p(this);break;case"delay":this.__internal.delay=t;break}}return this},set:function(e,t){this.setting(e,t);return this},get:function(e){return this.setting(e)},create:function(e,t){o(this);var n=document.createElement("div");n.className=r.message+(typeof e==="string"&&e!==""?" ajs-"+e:"");return d(n,t)},dismissAll:function(e){var t=n.slice(0);for(var r=0;r<t.length;r+=1){var i=t[r];if(e===undefined||e!==i){i.dismiss()}}}}}();var g=new m;g.dialog("alert",function(){return{main:function(e,t,n){var r,i,s;switch(arguments.length){case 1:i=e;break;case 2:if(typeof t==="function"){i=e;s=t}else{r=e;i=t}break;case 3:r=e;i=t;s=n;break}this.set("title",r);this.set("message",i);this.set("onok",s);return this},setup:function(){return{buttons:[{text:g.defaults.glossary.ok,key:t.ESC,invokeOnClose:true,className:g.defaults.theme.ok}],focus:{element:0,select:false},options:{maximizable:false,resizable:false}}},build:function(){},prepare:function(){document.body.focus()},setMessage:function(e){this.setContent(e)},settings:{message:undefined,onok:undefined,label:undefined},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"label":if(this.__internal.buttons[0].element){this.__internal.buttons[0].element.innerHTML=n}break}},callback:function(e){if(typeof this.get("onok")==="function"){var t=this.get("onok").call(undefined,e);if(typeof t!=="undefined"){e.cancel=!t}}}}});g.dialog("confirm",function(){function n(t){if(e.timer!==null){clearInterval(e.timer);e.timer=null;t.__internal.buttons[e.index].element.innerHTML=e.text}}function r(t,r,i){n(t);e.duration=i;e.index=r;e.text=t.__internal.buttons[r].element.innerHTML;e.timer=setInterval(h(t,e.task),1e3);e.task(null,t)}var e={timer:null,index:null,text:null,duratuin:null,task:function(t,r){if(r.isOpen()){r.__internal.buttons[e.index].element.innerHTML=e.text+" (&#8207;"+e.duration+"&#8207;) ";e.duration-=1;if(e.duration===-1){n(r);var i=r.__internal.buttons[e.index];var s=p(e.index,i);if(typeof r.callback==="function"){r.callback.apply(r,[s])}if(s.close!==false){r.close()}}}else{n(r)}}};return{main:function(e,t,n,r){var i,s,o,u;switch(arguments.length){case 1:s=e;break;case 2:s=e;o=t;break;case 3:s=e;o=t;u=n;break;case 4:i=e;s=t;o=n;u=r;break}this.set("title",i);this.set("message",s);this.set("onok",o);this.set("oncancel",u);return this},setup:function(){return{buttons:[{text:g.defaults.glossary.ok,key:t.ENTER,className:g.defaults.theme.ok},{text:g.defaults.glossary.cancel,key:t.ESC,invokeOnClose:true,className:g.defaults.theme.cancel}],focus:{element:0,select:false},options:{maximizable:false,resizable:false}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"labels":if("ok"in n&&this.__internal.buttons[0].element){this.__internal.buttons[0].text=n.ok;this.__internal.buttons[0].element.innerHTML=n.ok}if("cancel"in n&&this.__internal.buttons[1].element){this.__internal.buttons[1].text=n.cancel;this.__internal.buttons[1].element.innerHTML=n.cancel}break;case"reverseButtons":if(n===true){this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element)}else{this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element)}break;case"defaultFocus":this.__internal.focus.element=n==="ok"?0:1;break}},callback:function(e){n(this);var t;switch(e.index){case 0:if(typeof this.get("onok")==="function"){t=this.get("onok").call(undefined,e);if(typeof t!=="undefined"){e.cancel=!t}}break;case 1:if(typeof this.get("oncancel")==="function"){t=this.get("oncancel").call(undefined,e);if(typeof t!=="undefined"){e.cancel=!t}}break}},autoOk:function(e){r(this,0,e);return this},autoCancel:function(e){r(this,1,e);return this}}});g.dialog("prompt",function(){var n=document.createElement("INPUT");var r=document.createElement("P");return{main:function(e,t,n,r,i){var s,o,u,a,f;switch(arguments.length){case 1:o=e;break;case 2:o=e;u=t;break;case 3:o=e;u=t;a=n;break;case 4:o=e;u=t;a=n;f=r;break;case 5:s=e;o=t;u=n;a=r;f=i;break}this.set("title",s);this.set("message",o);this.set("value",u);this.set("onok",a);this.set("oncancel",f);return this},setup:function(){return{buttons:[{text:g.defaults.glossary.ok,key:t.ENTER,className:g.defaults.theme.ok},{text:g.defaults.glossary.cancel,key:t.ESC,invokeOnClose:true,className:g.defaults.theme.cancel}],focus:{element:n,select:true},options:{maximizable:false,resizable:false}}},build:function(){n.className=g.defaults.theme.input;n.setAttribute("type","text");n.value=this.get("value");this.elements.content.appendChild(r);this.elements.content.appendChild(n)},prepare:function(){},setMessage:function(t){if(typeof t==="string"){r.innerHTML=t}else if(t instanceof e.HTMLElement&&r.firstChild!==t){r.innerHTML="";r.appendChild(t)}},settings:{message:undefined,labels:undefined,onok:undefined,oncancel:undefined,value:"",reverseButtons:undefined},settingUpdated:function(e,t,r){switch(e){case"message":this.setMessage(r);break;case"value":n.value=r;break;case"labels":if(r.ok&&this.__internal.buttons[0].element){this.__internal.buttons[0].element.innerHTML=r.ok}if(r.cancel&&this.__internal.buttons[1].element){this.__internal.buttons[1].element.innerHTML=r.cancel}break;case"reverseButtons":if(r===true){this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element)}else{this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element)}break}},callback:function(e){var t;switch(e.index){case 0:this.value=n.value;if(typeof this.get("onok")==="function"){t=this.get("onok").call(undefined,e,this.value);if(typeof t!=="undefined"){e.cancel=!t}}break;case 1:if(typeof this.get("oncancel")==="function"){t=this.get("oncancel").call(undefined,e);if(typeof t!=="undefined"){e.cancel=!t}}break}}}});if(typeof define==="function"){define([],function(){return g})}else if(!e.alertify){e.alertify=g}})(this)